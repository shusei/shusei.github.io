<!doctype html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Voice Gender Detector</title>
<link rel="stylesheet" href="assets/styles.css" />
<link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
<link rel="preconnect" href="https://huggingface.co" crossorigin>
<script>
// Switch inference mode here:
// 'browser' = 100% 客端 (Transformers.js + ONNX) – GH Pages 直接可用
// 'server' = 走 Cloudflare Pages Functions /api/classify 代理呼叫 HF Inference API
window.INFERENCE_MODE = 'browser'; // 'browser' | 'server'
window.API_BASE_URL = '/api/classify'; // 若放 GH Pages，改成你的 Worker URL
// ONNX 模型 (與 HF 上一致)
window.ONNX_MODEL_ID = 'prithivMLmods/Common-Voice-Gender-Detection-ONNX';
</script>
</head>
<body>
<main class="container">
<h1>Voice Gender Detector</h1>


<button id="recordBtn" class="record-btn" aria-pressed="false">
<span class="idle">● 開始錄音</span>
<span class="rec">■ 停止錄音</span>
</button>


<div id="meter" class="meter hidden">
<div class="bar female">
<span class="label">female</span>
<span class="value" id="femaleVal">—</span>
</div>
<div class="bar male">
<span class="label">male</span>
<span class="value" id="maleVal">—</span>
</div>
</div>


<div id="status" class="status">準備就緒</div>
</main>


<!-- 浮動上傳按鈕 -->
<label class="fab" title="上傳音檔">
⬆︎
<input id="fileInput" type="file" accept="audio/*,audio/mp4,video/mp4,video/quicktime,.m4a,.mp4,.mov" hidden />
</label>


<script type="module" src="assets/app.js"></script>
</body>
</html>

